<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Screenshot Capture - Design Toolkit</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .controls button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            font-size: 16px;
            font-weight: 500;
        }
        
        .controls button:hover {
            background: #0056b3;
        }
        
        .controls button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        
        .screenshot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .screenshot-item {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .screenshot-item h3 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            font-size: 16px;
        }
        
        .screenshot-item canvas {
            border: 1px solid #e9ecef;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        
        .screenshot-item .icon-name {
            font-size: 14px;
            color: #6c757d;
            font-weight: 500;
        }
        
        .status {
            padding: 12px 16px;
            border-radius: 6px;
            font-size: 16px;
            margin: 16px 0;
            font-weight: 500;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .progress {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #007bff;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Icon Screenshot Capture - Design Toolkit</h1>
        
        <div class="controls">
            <button onclick="startCapture()" id="startBtn">Start Screenshot Capture</button>
            <button onclick="downloadAll()" id="downloadBtn" disabled>Download All Screenshots</button>
            <button onclick="clearScreenshots()" id="clearBtn" disabled>Clear Screenshots</button>
        </div>
        
        <div class="progress" id="progressContainer" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">Ready to start...</div>
        </div>
        
        <div class="status info" id="statusMessage">
            Click "Start Screenshot Capture" to begin capturing screenshots of all icons.
        </div>
        
        <div class="screenshot-grid" id="screenshotGrid">
            <!-- Screenshots will be added here -->
        </div>
    </div>
    
    <script type="module" src="./dist/design-toolkit.esm.bundled.js"></script>
    
    <script>
        // List of all icon names from icon-types.ts
        const allIconNames = [
            'arrow-left', 'arrow-right', 'arrow-up', 'arrow-down',
            'chevron-left', 'chevron-right', 'chevron-up', 'chevron-down',
            'menu', 'close', 'hamburger', 'search', 'filter', 'sort',
            'more-horizontal', 'more-vertical', 'dots-horizontal', 'dots-vertical',
            'plus', 'minus', 'edit', 'delete', 'save', 'cancel', 'check', 'cross',
            'refresh', 'reload', 'undo', 'redo', 'copy', 'paste', 'cut',
            'download', 'upload', 'share', 'link', 'external-link',
            'image', 'file', 'folder', 'document', 'video', 'audio', 'pdf',
            'mail', 'phone', 'message', 'chat', 'notification', 'bell',
            'settings', 'gear', 'user', 'users', 'lock', 'unlock', 'shield',
            'chart', 'graph', 'table', 'calendar', 'clock', 'timer',
            'success', 'error', 'warning', 'info', 'alert', 'question',
            'wifi', 'bluetooth', 'battery', 'play', 'pause', 'stop',
            'volume', 'mute', 'camera', 'microphone', 'speaker',
            'sun', 'moon', 'cloud', 'rain', 'snow', 'wind', 'temperature',
            'leaf', 'tree', 'flower', 'droplet', 'fire', 'star', 'heart',
            'dollar', 'euro', 'credit-card', 'wallet', 'store', 'shopping-cart',
            'home', 'building', 'car', 'plane', 'train', 'bike', 'walk',
            'book', 'bookmark', 'tag', 'flag', 'pin', 'map', 'compass',
            'thumbs-up', 'thumbs-down', 'like', 'dislike', 'smile', 'frown',
            'eye', 'eye-off', 'key', 'unlock-alt', 'lock-alt', 'fingerprint',
            'qr-code', 'barcode', 'scan', 'print', 'fax', 'envelope',
            'inbox', 'outbox', 'archive', 'trash', 'recycle', 'refresh-alt',
            'sync', 'rotate', 'flip', 'mirror', 'crop', 'resize',
            'maximize', 'minimize', 'fullscreen', 'fullscreen-exit',
            'move', 'drag', 'grip', 'handle', 'grab', 'cursor',
            'pointer', 'hand', 'finger', 'touch', 'click', 'tap',
            'swipe', 'scroll', 'pan', 'zoom', 'zoom-in', 'zoom-out',
            'focus', 'blur', 'contrast', 'brightness', 'opacity',
            'transparency', 'gradient', 'palette', 'color', 'paint',
            'brush', 'pencil', 'pen', 'marker', 'highlighter', 'eraser',
            'text', 'font', 'bold', 'italic', 'underline', 'strikethrough',
            'align-left', 'align-center', 'align-right', 'align-justify',
            'list', 'list-ordered', 'list-unordered', 'indent', 'outdent',
            'quote', 'code', 'terminal', 'console', 'bug', 'debug',
            'test', 'check-circle', 'times-circle', 'exclamation-circle',
            'question-circle', 'info-circle', 'warning-triangle',
            'arrow-circle-left', 'arrow-circle-right', 'arrow-circle-up', 'arrow-circle-down',
            'chevron-circle-left', 'chevron-circle-right', 'chevron-circle-up', 'chevron-circle-down',
            'play-circle', 'pause-circle', 'stop-circle', 'record-circle',
            'pause-circle-fill', 'play-circle-fill', 'stop-circle-fill',
            'record-circle-fill', 'circle', 'circle-fill', 'dot', 'dot-fill',
            'square', 'square-fill', 'rectangle', 'rectangle-fill',
            'triangle', 'triangle-fill', 'diamond', 'diamond-fill',
            'hexagon', 'hexagon-fill', 'octagon', 'octagon-fill',
            'pentagon', 'pentagon-fill', 'polygon', 'polygon-fill'
        ];

        let screenshots = [];
        let currentIndex = 0;
        let isCapturing = false;

        function updateProgress() {
            const progress = (currentIndex / allIconNames.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `Captured ${currentIndex} of ${allIconNames.length} icons (${Math.round(progress)}%)`;
        }

        function updateStatus(message, type = 'info') {
            const statusEl = document.getElementById('statusMessage');
            statusEl.textContent = message;
            statusEl.className = `status ${type}`;
        }

        function createScreenshotItem(iconName, canvas) {
            const item = document.createElement('div');
            item.className = 'screenshot-item';
            item.innerHTML = `
                <h3>${iconName}</h3>
                <canvas width="64" height="64"></canvas>
                <div class="icon-name">${iconName}</div>
            `;
            
            const itemCanvas = item.querySelector('canvas');
            const ctx = itemCanvas.getContext('2d');
            ctx.drawImage(canvas, 0, 0, 64, 64);
            
            return item;
        }

        async function captureIcon(iconName) {
            return new Promise((resolve) => {
                // Create a temporary icon element
                const tempDiv = document.createElement('div');
                tempDiv.style.position = 'absolute';
                tempDiv.style.left = '-9999px';
                tempDiv.style.top = '-9999px';
                tempDiv.innerHTML = `<echo-icon name="${iconName}" size="large"></echo-icon>`;
                document.body.appendChild(tempDiv);
                
                const iconElement = tempDiv.querySelector('echo-icon');
                
                // Wait for the icon to render
                setTimeout(() => {
                    try {
                        const svg = iconElement.shadowRoot?.querySelector('svg');
                        if (svg) {
                            // Create canvas for screenshot
                            const canvas = document.createElement('canvas');
                            canvas.width = 64;
                            canvas.height = 64;
                            const ctx = canvas.getContext('2d');
                            
                            // Convert SVG to image
                            const svgData = new XMLSerializer().serializeToString(svg);
                            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
                            const svgUrl = URL.createObjectURL(svgBlob);
                            
                            const img = new Image();
                            img.onload = () => {
                                ctx.drawImage(img, 0, 0, 64, 64);
                                URL.revokeObjectURL(svgUrl);
                                resolve(canvas);
                            };
                            img.onerror = () => {
                                URL.revokeObjectURL(svgUrl);
                                resolve(null);
                            };
                            img.src = svgUrl;
                        } else {
                            resolve(null);
                        }
                    } catch (error) {
                        console.error(`Error capturing ${iconName}:`, error);
                        resolve(null);
                    } finally {
                        document.body.removeChild(tempDiv);
                    }
                }, 100);
            });
        }

        async function startCapture() {
            if (isCapturing) return;
            
            isCapturing = true;
            currentIndex = 0;
            screenshots = [];
            
            document.getElementById('startBtn').disabled = true;
            document.getElementById('progressContainer').style.display = 'block';
            updateStatus('Starting screenshot capture...', 'info');
            
            for (let i = 0; i < allIconNames.length; i++) {
                const iconName = allIconNames[i];
                currentIndex = i + 1;
                updateProgress();
                updateStatus(`Capturing ${iconName}...`, 'info');
                
                const canvas = await captureIcon(iconName);
                if (canvas) {
                    screenshots.push({ name: iconName, canvas: canvas });
                    const screenshotItem = createScreenshotItem(iconName, canvas);
                    document.getElementById('screenshotGrid').appendChild(screenshotItem);
                }
                
                // Small delay to prevent overwhelming the browser
                await new Promise(resolve => setTimeout(resolve, 50));
            }
            
            isCapturing = false;
            document.getElementById('startBtn').disabled = false;
            document.getElementById('downloadBtn').disabled = false;
            document.getElementById('clearBtn').disabled = false;
            
            updateStatus(`✅ Screenshot capture complete! Captured ${screenshots.length} of ${allIconNames.length} icons.`, 'success');
        }

        function downloadAll() {
            if (screenshots.length === 0) return;
            
            screenshots.forEach((screenshot, index) => {
                const link = document.createElement('a');
                link.download = `icon-${screenshot.name}.png`;
                link.href = screenshot.canvas.toDataURL();
                link.click();
            });
        }

        function clearScreenshots() {
            screenshots = [];
            document.getElementById('screenshotGrid').innerHTML = '';
            document.getElementById('downloadBtn').disabled = true;
            document.getElementById('clearBtn').disabled = true;
            document.getElementById('progressContainer').style.display = 'none';
            updateStatus('Screenshots cleared. Click "Start Screenshot Capture" to begin again.', 'info');
        }
    </script>
</body>
</html>

