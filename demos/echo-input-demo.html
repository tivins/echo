<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo Input Demo - Design Toolkit</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 40px;
        }
        
        .demo-section {
            margin-bottom: 40px;
        }
        
        .demo-section h2 {
            color: #555;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .inputs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .input-demo {
            margin-bottom: 20px;
        }
        
        .demo-description {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #666;
        }
        
        .form-example {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .form-row echo-input {
            flex: 1;
            min-width: 200px;
        }
        
        .status-message {
            background-color: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            color: #1976d2;
        }
        
        .error-message {
            background-color: #ffebee;
            border: 1px solid #f44336;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            color: #d32f2f;
        }
        
        .success-message {
            background-color: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            color: #2e7d32;
        }
        
        .event-log {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .button-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Echo Input Component Demo</h1>
        
        <!-- Basic Inputs -->
        <div class="demo-section">
            <h2>Basic Inputs</h2>
            
            <div class="demo-description">
                Simple input fields with different variants and contexts.
            </div>
            
            <div class="inputs-grid">
                <echo-input 
                    label="Username" 
                    placeholder="Enter your username"
                    description="Choose a unique username">
                </echo-input>
                
                <echo-input 
                    label="Email" 
                    type="email"
                    placeholder="Enter your email"
                    description="We'll never share your email"
                    context="success">
                </echo-input>
                
                <echo-input 
                    label="Password" 
                    type="password"
                    placeholder="Enter your password"
                    description="Must be at least 8 characters"
                    context="warning">
                </echo-input>
                
                <echo-input 
                    label="Phone Number" 
                    type="tel"
                    placeholder="+1 (555) 123-4567"
                    description="Include country code"
                    context="info">
                </echo-input>
            </div>
        </div>
        
        <!-- Input Variants -->
        <div class="demo-section">
            <h2>Input Variants</h2>
            
            <div class="demo-description">
                Different visual styles for input fields.
            </div>
            
            <div class="inputs-grid">
                <echo-input 
                    variant="default"
                    label="Default Input"
                    placeholder="Default style">
                </echo-input>
                
                <echo-input 
                    variant="outlined"
                    label="Outlined Input"
                    placeholder="Outlined style">
                </echo-input>
                
                <echo-input 
                    variant="filled"
                    label="Filled Input"
                    placeholder="Filled style">
                </echo-input>
                
                <echo-input 
                    variant="underlined"
                    label="Underlined Input"
                    placeholder="Underlined style">
                </echo-input>
            </div>
        </div>
        
        <!-- Input Sizes -->
        <div class="demo-section">
            <h2>Input Sizes</h2>
            
            <div class="demo-description">
                Different sizes for input fields.
            </div>
            
            <div class="inputs-grid">
                <echo-input 
                    size="small"
                    label="Small Input"
                    placeholder="Small size">
                </echo-input>
                
                <echo-input 
                    size="medium"
                    label="Medium Input"
                    placeholder="Medium size (default)">
                </echo-input>
                
                <echo-input 
                    size="large"
                    label="Large Input"
                    placeholder="Large size">
                </echo-input>
            </div>
        </div>
        
        <!-- Inputs with Icons -->
        <div class="demo-section">
            <h2>Inputs with Icons</h2>
            
            <div class="demo-description">
                Input fields with icons positioned inside the input field (left or right).
            </div>
            
            <div class="inputs-grid">
                <echo-input 
                    label="User" 
                    icon="user"
                    icon-position="left"
                    placeholder="Enter username">
                </echo-input>
                
                <echo-input 
                    label="Email" 
                    icon="mail"
                    icon-position="left"
                    type="email"
                    placeholder="Enter email address">
                </echo-input>
                
                <echo-input 
                    label="Search" 
                    icon="search"
                    icon-position="left"
                    type="search"
                    placeholder="Search...">
                </echo-input>
                
                <echo-input 
                    label="Phone" 
                    icon="phone"
                    icon-position="left"
                    type="tel"
                    placeholder="Enter phone number">
                </echo-input>
                
                <echo-input 
                    label="Calendar" 
                    icon="calendar"
                    icon-position="left"
                    type="date"
                    placeholder="Select date">
                </echo-input>
                
                <echo-input 
                    label="Time" 
                    icon="clock"
                    icon-position="left"
                    type="time"
                    placeholder="Select time">
                </echo-input>
            </div>
        </div>
        
        <!-- Icon Position Examples -->
        <div class="demo-section">
            <h2>Icon Position Examples</h2>
            
            <div class="demo-description">
                Icons can be positioned on the left (default) or right side of the input field.
            </div>
            
            <div class="inputs-grid">
                <echo-input 
                    label="Left Icon" 
                    icon="user"
                    icon-position="left"
                    placeholder="Icon on the left">
                </echo-input>
                
                <echo-input 
                    label="Right Icon" 
                    icon="user"
                    icon-position="right"
                    placeholder="Icon on the right">
                </echo-input>
                
                <echo-input 
                    label="Search Left" 
                    icon="search"
                    icon-position="left"
                    placeholder="Search icon on left">
                </echo-input>
                
                <echo-input 
                    label="Search Right" 
                    icon="search"
                    icon-position="right"
                    placeholder="Search icon on right">
                </echo-input>
                
                <echo-input 
                    label="Eye Left" 
                    icon="eye"
                    icon-position="left"
                    type="password"
                    placeholder="Show password">
                </echo-input>
                
                <echo-input 
                    label="Eye Right" 
                    icon="eye"
                    icon-position="right"
                    type="password"
                    placeholder="Show password">
                </echo-input>
            </div>
        </div>
        
        <!-- Input States -->
        <div class="demo-section">
            <h2>Input States</h2>
            
            <div class="demo-description">
                Different states for input fields.
            </div>
            
            <div class="inputs-grid">
                <echo-input 
                    label="Normal Input"
                    placeholder="This is a normal input">
                </echo-input>
                
                <echo-input 
                    label="Required Input"
                    required
                    placeholder="This field is required">
                </echo-input>
                
                <echo-input 
                    label="Disabled Input"
                    disabled
                    value="This input is disabled">
                </echo-input>
                
                <echo-input 
                    label="Readonly Input"
                    readonly
                    value="This input is readonly">
                </echo-input>
                
                <echo-input 
                    label="Input with Value"
                    value="Pre-filled value"
                    placeholder="This has a value">
                </echo-input>
                
                <echo-input 
                    label="Input with Error"
                    context="danger"
                    value="invalid@email"
                    description="Please enter a valid email address">
                </echo-input>
            </div>
        </div>
        
        <!-- Input Types -->
        <div class="demo-section">
            <h2>Input Types</h2>
            
            <div class="demo-description">
                Different HTML input types supported.
            </div>
            
            <div class="inputs-grid">
                <echo-input 
                    label="Text Input"
                    type="text"
                    placeholder="Enter text">
                </echo-input>
                
                <echo-input 
                    label="Email Input"
                    type="email"
                    placeholder="Enter email">
                </echo-input>
                
                <echo-input 
                    label="Password Input"
                    type="password"
                    placeholder="Enter password">
                </echo-input>
                
                <echo-input 
                    label="Number Input"
                    type="number"
                    placeholder="Enter number">
                </echo-input>
                
                <echo-input 
                    label="URL Input"
                    type="url"
                    placeholder="Enter URL">
                </echo-input>
                
                <echo-input 
                    label="Search Input"
                    type="search"
                    placeholder="Search...">
                </echo-input>
                
                <echo-input 
                    label="Date Input"
                    type="date"
                    placeholder="Select date">
                </echo-input>
                
                <echo-input 
                    label="Time Input"
                    type="time"
                    placeholder="Select time">
                </echo-input>
                
                <echo-input 
                    label="DateTime Input"
                    type="datetime-local"
                    placeholder="Select date and time">
                </echo-input>
            </div>
        </div>
        
        <!-- Form Example -->
        <div class="demo-section">
            <h2>Form Example</h2>
            
            <div class="demo-description">
                A complete form using echo-input components.
            </div>
            
            <div class="form-example">
                <h3>User Registration Form</h3>
                
                <div class="form-row">
                    <echo-input 
                        label="First Name" 
                        required
                        placeholder="Enter first name"
                        name="firstName">
                    </echo-input>
                    
                    <echo-input 
                        label="Last Name" 
                        required
                        placeholder="Enter last name"
                        name="lastName">
                    </echo-input>
                </div>
                
                <echo-input 
                    label="Email Address" 
                    type="email"
                    required
                    placeholder="Enter email address"
                    description="We'll use this to send you updates"
                    name="email">
                </echo-input>
                
                <echo-input 
                    label="Phone Number" 
                    type="tel"
                    placeholder="Enter phone number"
                    description="Optional - for account security"
                    name="phone">
                </echo-input>
                
                <div class="form-row">
                    <echo-input 
                        label="Password" 
                        type="password"
                        required
                        placeholder="Create password"
                        minlength="8"
                        name="password">
                    </echo-input>
                    
                    <echo-input 
                        label="Confirm Password" 
                        type="password"
                        required
                        placeholder="Confirm password"
                        name="confirmPassword">
                    </echo-input>
                </div>
                
                <echo-input 
                    label="Birth Date" 
                    type="date"
                    placeholder="Select birth date"
                    name="birthDate">
                </echo-input>
                
                <div class="button-group">
                    <echo-button variant="outline">Cancel</echo-button>
                    <echo-button variant="default">Register</echo-button>
                </div>
            </div>
        </div>
        
        <!-- Validation Example -->
        <div class="demo-section">
            <h2>Validation Example</h2>
            
            <div class="demo-description">
                Input fields with validation attributes and error handling.
            </div>
            
            <div class="form-example">
                <h3>Contact Form with Validation</h3>
                
                <echo-input 
                    label="Full Name" 
                    required
                    minlength="2"
                    maxlength="50"
                    placeholder="Enter your full name"
                    description="Must be between 2 and 50 characters"
                    name="fullName">
                </echo-input>
                
                <echo-input 
                    label="Email" 
                    type="email"
                    required
                    placeholder="Enter your email"
                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                    description="Enter a valid email address"
                    name="email">
                </echo-input>
                
                <echo-input 
                    label="Phone" 
                    type="tel"
                    placeholder="Enter phone number"
                    pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
                    description="Format: 123-456-7890"
                    name="phone">
                </echo-input>
                
                <echo-input 
                    label="Age" 
                    type="number"
                    min="18"
                    max="120"
                    placeholder="Enter your age"
                    description="Must be between 18 and 120"
                    name="age">
                </echo-input>
                
                <div class="button-group">
                    <echo-button variant="outline">Reset</echo-button>
                    <echo-button variant="default" id="validate-btn">Validate Form</echo-button>
                </div>
                
                <div id="validation-result"></div>
            </div>
        </div>
        
        <!-- Event Handling Demo -->
        <div class="demo-section">
            <h2>Event Handling</h2>
            
            <div class="demo-description">
                Input fields with event handling. Check the event log below.
            </div>
            
            <div class="form-example">
                <h3>Interactive Input Demo</h3>
                
                <echo-input 
                    label="Event Test Input" 
                    placeholder="Type something to see events"
                    id="event-input">
                </echo-input>
                
                <echo-input 
                    label="Focus Test Input" 
                    placeholder="Click to focus"
                    id="focus-input">
                </echo-input>
                
                <div class="button-group">
                    <echo-button variant="outline" id="clear-log-btn">Clear Log</echo-button>
                    <echo-button variant="default" id="focus-first-btn">Focus First Input</echo-button>
                </div>
                
                <div class="event-log" id="event-log">
                    <div>Event log will appear here...</div>
                </div>
            </div>
        </div>
        
        <!-- Complex Example -->
        <div class="demo-section">
            <h2>Complex Example</h2>
            
            <div class="demo-description">
                A comprehensive input example with all features combined.
            </div>
            
            <div class="form-example">
                <h3>Advanced User Profile</h3>
                
                <div class="form-row">
                    <echo-input 
                        variant="outlined"
                        size="large"
                        label="Username" 
                        icon="user"
                        required
                        placeholder="Choose a username"
                        description="This will be your public display name"
                        minlength="3"
                        maxlength="20"
                        pattern="[a-zA-Z0-9_]+"
                        name="username">
                    </echo-input>
                    
                    <echo-input 
                        variant="outlined"
                        size="large"
                        label="Display Name" 
                        icon="tag"
                        placeholder="Your display name"
                        description="How others will see your name"
                        maxlength="50"
                        name="displayName">
                    </echo-input>
                </div>
                
                <echo-input 
                    variant="filled"
                    label="Bio" 
                    icon="file-text"
                    placeholder="Tell us about yourself"
                    description="A brief description of yourself (optional)"
                    maxlength="500"
                    name="bio">
                </echo-input>
                
                <div class="form-row">
                    <echo-input 
                        variant="underlined"
                        label="Website" 
                        icon="globe"
                        type="url"
                        placeholder="https://yourwebsite.com"
                        description="Your personal or professional website"
                        name="website">
                    </echo-input>
                    
                    <echo-input 
                        variant="underlined"
                        label="Location" 
                        icon="map-pin"
                        placeholder="City, Country"
                        description="Where are you located?"
                        name="location">
                    </echo-input>
                </div>
                
                <div class="button-group">
                    <echo-button variant="outline" size="large">Cancel</echo-button>
                    <echo-button variant="default" size="large" icon="save">Save Profile</echo-button>
                </div>
            </div>
        </div>
    </div>

    <!-- Load the design toolkit -->
    <script type="module" src="../dist/design-toolkit.esm.js"></script>
    
    <script>
        // Event handling demo
        document.addEventListener('DOMContentLoaded', () => {
            const eventInput = document.getElementById('event-input');
            const focusInput = document.getElementById('focus-input');
            const eventLog = document.getElementById('event-log');
            const clearLogBtn = document.getElementById('clear-log-btn');
            const focusFirstBtn = document.getElementById('focus-first-btn');
            const validateBtn = document.getElementById('validate-btn');
            const validationResult = document.getElementById('validation-result');
            
            let logEntries = [];
            
            function addLogEntry(message) {
                const timestamp = new Date().toLocaleTimeString();
                logEntries.push(`[${timestamp}] ${message}`);
                eventLog.innerHTML = logEntries.map(entry => `<div>${entry}</div>`).join('');
                eventLog.scrollTop = eventLog.scrollHeight;
            }
            
            // Clear log
            if (clearLogBtn) {
                clearLogBtn.addEventListener('click', () => {
                    logEntries = [];
                    eventLog.innerHTML = '<div>Event log cleared...</div>';
                });
            }
            
            // Focus first input
            if (focusFirstBtn) {
                focusFirstBtn.addEventListener('click', () => {
                    if (eventInput) {
                        eventInput.focus();
                        addLogEntry('Manually focused first input');
                    }
                });
            }
            
            // Event listeners for event input
            if (eventInput) {
                eventInput.addEventListener('echo-input-change', (event) => {
                    addLogEntry(`Input change: "${event.detail.value}"`);
                });
                
                eventInput.addEventListener('echo-input-focus', () => {
                    addLogEntry('Input focused');
                });
                
                eventInput.addEventListener('echo-input-blur', () => {
                    addLogEntry('Input blurred');
                });
            }
            
            // Event listeners for focus input
            if (focusInput) {
                focusInput.addEventListener('echo-input-focus', () => {
                    addLogEntry('Focus test input focused');
                });
                
                focusInput.addEventListener('echo-input-blur', () => {
                    addLogEntry('Focus test input blurred');
                });
            }
            
            // Form validation
            if (validateBtn && validationResult) {
                validateBtn.addEventListener('click', () => {
                    const inputs = document.querySelectorAll('echo-input[name]');
                    let isValid = true;
                    let errors = [];
                    
                    inputs.forEach(input => {
                        const inputElement = input.shadowRoot?.querySelector('input');
                        if (inputElement) {
                            if (!inputElement.checkValidity()) {
                                isValid = false;
                                const fieldName = inputElement.getAttribute('name') || 'Unknown field';
                                errors.push(`${fieldName}: ${inputElement.validationMessage}`);
                            }
                        }
                    });
                    
                    if (isValid) {
                        validationResult.innerHTML = '<div class="success-message">All fields are valid!</div>';
                    } else {
                        validationResult.innerHTML = `
                            <div class="error-message">
                                <strong>Validation Errors:</strong>
                                <ul>${errors.map(error => `<li>${error}</li>`).join('')}</ul>
                            </div>
                        `;
                    }
                });
            }
            
            // Log all input events
            document.addEventListener('echo-input-change', (event) => {
                console.log('Input change event:', event.detail);
            });
            
            document.addEventListener('echo-input-focus', (event) => {
                console.log('Input focus event:', event.detail);
            });
            
            document.addEventListener('echo-input-blur', (event) => {
                console.log('Input blur event:', event.detail);
            });
        });
    </script>
</body>
</html>
